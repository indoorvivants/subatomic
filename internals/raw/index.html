<html><head><title>Subatomic: Raw API</title><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/tomorrow-night-blue.min.css" /><script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script><script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/languages/scala.min.js"></script><script>hljs.initHighlightingOnLoad();</script><link rel="stylesheet" href="/assets/tailwind.css" /><script src="/assets/search.js" defer="defer"></script><script src="/assets/search-index.js" defer="defer"></script><link rel="stylesheet" href="/assets/subatomic-search.css" /><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /></head><body onclick="SubatomicSearchFrontend.sayHello()" class="bg-gradient-to-r from-emerald-800 to-sky-700 mt-4 w-full"><header class="flex m-2 mb-4 md:m-auto md:w-11/12 lg:max-w-7xl flex-col md:flex-row md:items-center justify-between mb-2"><div><a class="block text-6xl text-white" href="/">Subatomic</a><p class="text-white">Watch this space, but please don't use it yet</p></div><div id="searchContainer"></div><div class="site-links"><a href="https://github.com/indoorvivants/subatomic"><img class="w-12 opacity-70 hover:opacity-100" src="https://cdn.svgporn.com/logos/github-icon.svg" /></a></div></header><main class="rounded-xl bg-white m-2 mb-4 md:m-auto md:w-11/12 lg:max-w-7xl p-4 flex flex-col-reverse md:flex-row gap-6"><aside class="lg:w-64 shrink-1 lg:shrink-0 grow-0 md:border-r-2 max-w-[300px] border-slate-200 pr-2"><ul class="text-2xl p-4 block"><li><a class="" href="/index.html">Home</a><ul class="text-xl p-2 block"></ul></li><li><a class="" href="/search/index.html">Search </a><ul class="text-xl p-2 block"></ul></li><li><a class="" href="/scalajs/index.html">Scala.js support </a><ul class="text-xl p-2 block"></ul></li><li><a class="" href="/builders/index.html">Builders</a><ul class="text-xl p-2 block"></ul></li><li><a class="font-bold" href="/internals/index.html">Internals</a><ul class="text-xl p-2 block"><li><a class="" href="/internals/classpath/index.html">Mdoc and classpath</a><ul class="text-lg p-1 block"></ul></li><li><a class="font-bold" href="/internals/raw/index.html">Raw API</a><ul class="text-lg p-1 block"></ul></li></ul></li><li><a class="" href="/diagrams/index.html">Diagrams with D2</a><ul class="text-xl p-2 block"></ul></li></ul></aside><article class="grow-4 lg:max-w-6xl markdown"><div><p>Under the hood, Subatomic's core idea is &quot;it's all just moving files around&quot; when it comes to building static sites.</p>
<ul>
<li>
<p>Structure of your content is up to you - use Scala's data structures, pattern matching,
all the usual stuff</p>
<pre><code class="language-scala">sealed trait Content
case class StaticPage(title: String, path: os.Path) extends Content
case class MdocPage(path: os.Path, dependencies: Set[String]) extends Content
</code></pre>
</li>
<li>
<p>No magic. You need to explicitly tell Subatomic where to put which content.</p>
<p>The content model is very simple - Subatomic can copy files and it can write text to files. That's it.</p>
</li>
</ul>
<p>Here's a super-short example:</p>
<pre><code class="language-scala">import subatomic._

type Content = Either[String, Int]

def sitemap: Vector[(SitePath, Content)] = Vector(
  SiteRoot / &quot;index.html&quot;            -&gt; Left(&quot;Hello world!&quot;),
  SiteRoot / &quot;the&quot; / &quot;answer.html&quot;   -&gt; Right(25)
)

val site = Site
  .init(sitemap)
  .populate { case (site, content) =&gt; 
    content match {
      case (path, Left(string)) =&gt; 
        site.addPage(path, s&quot;&lt;html&gt;&lt;body&gt;String: $string&lt;/body&gt;&lt;/html&gt;&quot;)
      case (path, Right(int)) =&gt; 
        site.addPage(path, s&quot;&lt;html&gt;&lt;body&gt;Integer: $int&lt;/body&gt;&lt;/html&gt;&quot;)
    }
  }
</code></pre>
<p>And if we want to actually produce files, we can call <code>buildAt</code>:</p>
<pre><code class="language-scala">site.buildAt(os.temp.dir()) // build in a temp folder
</code></pre>
<div class='bg-black text-white p-4'><pre><code class = 'nohighlight'>Creating&nbsp;site&nbsp;in&nbsp;<span style='color: green'>/tmp/7202143430879331724</span><br /><br /><span style='color: cyan'>index.html</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color: red'>^--content--&gt;</span>&nbsp;<span style='color: green'>&lt;html&gt;&lt;body&gt;String:&nbsp;Hello&nbsp;world!&lt;/body&gt;&lt;/html&gt;</span><br /><span style='color: cyan'>the/answer.html</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span style='color: red'>^--content--&gt;</span>&nbsp;<span style='color: green'>&lt;html&gt;&lt;body&gt;Integer:&nbsp;25&lt;/body&gt;&lt;/html&gt;</span></code></pre></div>
</div></article></main><footer class="text-center m-4 p-4 text-lg text-white font-bold m-auto w-full">Â© 2020-2023 Anton Sviridov</footer><script src="https://www.googletagmanager.com/gtag/js?id=G-9RNQGQHVLB"></script><script> window.dataLayer = window.dataLayer || [];
              function gtag(){window.dataLayer.push(arguments);}
              gtag('js', new Date());

              gtag('config', 'G-9RNQGQHVLB');</script></body></html>